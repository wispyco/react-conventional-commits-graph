var e=require("react"),r=require("react-chartjs-2"),t=require("chart.js"),a=require("react/jsx-runtime"),s={bugs:"🐛",features:"✨",chores:"🧹",fixes:"🔧",docs:"📝",refactor:"♻️"},o={id:"emojiPlugin",afterDraw:function(e){var r=e.ctx;e.data.datasets.forEach(function(t,a){e.getDatasetMeta(a).data.forEach(function(a,o){var n=s[e.data.labels[o]],i=a.x,c=a.base,u=a.width,l=a.height,f=t.data[o],d=Math.ceil(Math.sqrt(f)),h=Math.ceil(f/d),g=u/h,b=l/d,m=Math.min(g,b);r.font=m+"px Arial";for(var v=0;v<d;v++)for(var x=0;x<h;x++)if(v*h+x<f){var j=i-u/2+x*g,C=c-b-v*b;r.save(),r.translate(j+m/2,C+m/2),r.rotate(Math.PI),r.fillText(n,-m/2,-m/2),r.restore()}})})}};t.Chart.register(t.CategoryScale,t.LinearScale,t.BarElement,t.Title,t.Tooltip,t.Legend),t.Chart.register(o),exports.CommitChart=function(){var t=e.useState({labels:[],datasets:[]}),s=t[0],o=t[1],n=e.useRef(null);return e.useEffect(function(){!function(){try{return Promise.resolve(function(e,r){try{var t=Promise.resolve(fetch("/commitMessages.json")).then(function(e){if(!e.ok)throw new Error("Network response was not ok");return Promise.resolve(e.json()).then(function(e){var r=function(e){var r={bugs:0,features:0,chores:0,fixes:0,docs:0,refactor:0};return e.forEach(function(e){e.includes("bug:")||e.includes("🐛")?r.bugs++:e.includes("feat:")||e.includes("✨")?r.features++:e.includes("chore:")?r.chores++:e.includes("fix:")?r.fixes++:e.includes("docs:")?r.docs++:e.includes("refactor:")&&r.refactor++}),{labels:Object.keys(r),datasets:[{label:"Number of Commits",data:Object.values(r),backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)"],borderWidth:1}]}}(e);n.current?(n.current.data=r,n.current.update()):o(r)})})}catch(e){return r(e)}return t&&t.then?t.then(void 0,r):t}(0,function(e){console.error("Failed to fetch commit messages:",e)}))}catch(e){return Promise.reject(e)}}()},[]),/*#__PURE__*/a.jsxs("div",{children:[/*#__PURE__*/a.jsx("h2",{children:"Commit Chart"}),/*#__PURE__*/a.jsx(r.Bar,{ref:n,data:s,options:{scales:{x:{beginAtZero:!0},y:{}},maintainAspectRatio:!0,responsive:!0,plugins:{emojiPlugin:{}}}})]})};
//# sourceMappingURL=index.esm.cjs.map
