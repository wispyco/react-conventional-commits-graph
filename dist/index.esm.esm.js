import{useState as r,useRef as e,useEffect as t}from"react";import{Bar as a}from"react-chartjs-2";import{Chart as o,CategoryScale as s,LinearScale as n,BarElement as i,Title as c,Tooltip as u,Legend as f}from"chart.js";import{jsxs as l,jsx as d}from"react/jsx-runtime";var h={bugs:"🐛",features:"✨",chores:"🧹",fixes:"🔧",docs:"📝",refactor:"♻️"},m={id:"emojiPlugin",afterDraw:function(r){var e=r.ctx;r.data.datasets.forEach(function(t,a){r.getDatasetMeta(a).data.forEach(function(a,o){var s=h[r.data.labels[o]],n=a.x,i=a.base,c=a.width,u=a.height,f=t.data[o],l=Math.ceil(Math.sqrt(f)),d=Math.ceil(f/l),m=c/d,b=u/l,g=Math.min(m,b);e.font=g+"px Arial";for(var v=0;v<l;v++)for(var p=0;p<d;p++)if(v*d+p<f){var x=n-c/2+p*m,j=i-b-v*b;e.save(),e.translate(x+g/2,j+g/2),e.rotate(Math.PI),e.fillText(s,-g/2,-g/2),e.restore()}})})}};o.register(s,n,i,c,u,f),o.register(m);var b=function(){var o=r({labels:[],datasets:[]}),s=o[0],n=o[1],i=e(null);return t(function(){!function(){try{return Promise.resolve(function(r,e){try{var t=Promise.resolve(fetch("/commitMessages.json")).then(function(r){if(!r.ok)throw new Error("Network response was not ok");return Promise.resolve(r.json()).then(function(r){var e=function(r){var e={bugs:0,features:0,chores:0,fixes:0,docs:0,refactor:0};return r.forEach(function(r){r.includes("bug:")||r.includes("🐛")?e.bugs++:r.includes("feat:")||r.includes("✨")?e.features++:r.includes("chore:")?e.chores++:r.includes("fix:")?e.fixes++:r.includes("docs:")?e.docs++:r.includes("refactor:")&&e.refactor++}),{labels:Object.keys(e),datasets:[{label:"Number of Commits",data:Object.values(e),backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)"],borderWidth:1}]}}(r);i.current?(i.current.data=e,i.current.update()):n(e)})})}catch(r){return e(r)}return t&&t.then?t.then(void 0,e):t}(0,function(r){console.error("Failed to fetch commit messages:",r)}))}catch(r){return Promise.reject(r)}}()},[]),/*#__PURE__*/l("div",{children:[/*#__PURE__*/d("h2",{children:"Commit Chart"}),/*#__PURE__*/d(a,{ref:i,data:s,options:{scales:{x:{beginAtZero:!0},y:{}},maintainAspectRatio:!0,responsive:!0,plugins:{emojiPlugin:{}}}})]})};export{b as CommitChart};
//# sourceMappingURL=index.esm.esm.js.map
